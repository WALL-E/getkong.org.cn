<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>FAQ | Kong - Open-Source API Management and Microservice Management</title><!-- use share link for facebook -->
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="author" content="Mashape"/>
  <meta property="og:title" content="开源 API 管理平台和微服务管理平台"/>
  <meta property="og:site_name" content="Kong"/>
  
  <meta property="og:url" content="http://getkong.org"/>
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more."/>
  <meta property="og:type" content="website"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:image" content="https://getkong.org/assets/images/share.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@mashape"/>
  <meta name="twitter:creator" content="@mashape"/>
  <meta name="twitter:url" content="https://getkong.org"/>
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="twitter:image" content="https://getkong.org/assets/images/share.png">
  <meta property="fb:admins" content="227304446"/>
  <meta property="fb:admins" content="576641408"/>
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"/>
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "Mashape",
      "url": "https://getkong.org",
      "logo": "https://getkong.org/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/Mashape",
        "https://twitter.com/mashape",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"/>
  <link rel="stylesheet" href="//cloud.typography.com/7506032/804186/css/fonts.css"/>
  <link rel="stylesheet" href="/assets/styles.css?v=1474440736"/>
</head>


  <body id="about" >
    <header class="site-header">
  <div class="enterprise">
    <div class="container">
      <nav class="enterprise-sites one-half column">
        <ul>
          <li class="active"><a href="http://getkong.org">Kong</a></li>
          <li><a href="http://gelato.io">Gelato</a></li>
          <li><a href="http://getgalileo.io">Galileo</a></li>
          <li><a href="http://www.mashape.com/enterprise/">企业版</a></li>
        </ul>
      </nav>
      <nav class="enterprise-contact one-half column">
        <ul>
          <li><a href="https://www.mashape.com/enterprise/#demo-form">Request Demo</a></li>
          <li><a href="tel:+18664021473">Sales: +1 (866) 402-1473</a></li>
        </ul>
      </nav>
    </div>
  </div><!-- .enterprise -->
  <div class="navbar">
    <div class="container">
      <a href="/" class="navbar-brand"><img src="/assets/images/branding.svg" alt="Kong" width="99" height="32"></a>
      <iframe class="header-star" src="https://ghbtns.com/github-btn.html?user=Mashape&amp;repo=kong&amp;type=star"frameborder="0" scrolling="0" width="55" height="20"></iframe>
      <button data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar" class="navbar-toggle">
        <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
      </button>
      <nav id="navbar" class="navbar-nav">
        <ul>
          <li><a href="/about/"  class="active">关于</a></li>
          <li><a href="/docs/" >文档</a></li>
          <li><a href="/plugins/" >插件</a></li>
          <li><a href="/community/" >社区版</a></li>
          <li><a href="https://www.mashape.com/enterprise/">企业版</a></li>
          <li><a href="https://github.com/Mashape/kong" target="_blank">GitHub</a></li>
          <li>
            <a href="/install/" class="button button-dark" data-analytics='{"event": "Clicked download", "type": "button", "location": "header"}'>安装</a>
          </li>
        </ul>
      </nav>
    </div>
  </div><!-- .navbar -->
</header>


    <div class="page about">
  
  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/icn-documentation.svg" alt="" />
        </div>
      

      <div class="page-header-title">
        
          <ul class="breadcrumbs">
            
              <li class="breadcrumb-item"><a href="/about">关于</a></li>
            
          </ul>
        

        <h1>Frequently Asked Questions</h1>

        
      </div>

      

      
        <div class="page-header-right">
          <a class="github-button" href="https://github.com/Mashape/kong" data-style="mega" data-count-href="/Mashape/kong/stargazers" data-count-api="/repos/Mashape/kong#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star Mashape/kong on GitHub">Star</a>&nbsp;<a class="github-button" href="https://github.com/Mashape/kong/fork" data-icon="octicon-repo-forked" data-style="mega" data-count-href="/Mashape/kong/network" data-count-api="/repos/Mashape/kong#forks_count" data-count-aria-label="# forks on GitHub" aria-label="Fork Mashape/kong on GitHub">Fork</a>
        </div>
      
    </div>
  </header>



  <div class="container">
    <aside class="page-navigation">
      <nav>
        <h5>关于</h5>
        <ul>
          
            <li><a href="/about/" >What is Kong?</a></li>
          
            <li><a href="/about/who/" >谁在使用Kong?</a></li>
          
            <li><a href="/about/advantages/" >Advantages &amp; Use Cases</a></li>
          
            <li><a href="/about/pci-dss/" >PCI DSS Compliance</a></li>
          
            <li><a href="/about/benchmark/" >Benchmark</a></li>
          

          <li>
            <a href="/about/faq" class="active">常见问题</a>
            <ul>
              <li><a href="/about/faq/#how-does-it-work">How does it work?</a></li>
              <li><a href="/about/faq/#which-datastores-are-supported">Which datastores are supported?</a></li>
              <li><a href="/about/faq/#how-does-it-scale">How does it scale?</a></li>
              <li><a href="/about/faq/#what-are-plugins">What are plugins?</a></li>
              <li><a href="/about/faq/#how-many-microservices-apis-can-i-add-on-kong">How many microservices/APIs can I add on Kong?</a></li>
              <li><a href="/about/faq/#how-can-i-add-authentication-to-a-microservice-api">How can I add authentication to a microservice/API?</a></li>
              <li><a href="/about/faq/#where-can-i-get-help">Where can I get help?</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content"><ul>
<li><a href="#how-does-it-work">How does it work?</a>

<ul>
<li><a href="#kong-server">Kong server</a></li>
<li><a href="#kong-datastore">Kong datastore</a></li>
</ul></li>
<li><a href="#which-datastores-are-supported">Which datastores are supported?</a>

<ul>
<li><a href="#apache-cassandra">Apache Cassandra</a></li>
<li><a href="#postgresql">PostgreSQL</a></li>
</ul></li>
<li><a href="#how-does-it-scale">How does it scale?</a></li>
<li><a href="#what-are-plugins">What are plugins?</a></li>
<li><a href="#how-many-microservices-apis-can-i-add-on-kong">How many microservices/APIs can I add on Kong?</a></li>
<li><a href="#how-can-i-add-authentication-to-a-microservice-api">How can I add authentication to a microservice/API?</a></li>
<li><a href="#where-can-i-get-help">Where can I get help?</a></li>
</ul>

<hr>

<h2 id="how-does-it-work">How does it work?</h2>

<p>A typical Kong setup is made of two main components:</p>

<ul>
<li><a href="#kong-server">Kong's server</a>, based on the widely adopted <strong>NGINX</strong> HTTP
server, which is a reverse proxy processing your clients' requests to your
upstream services.</li>
<li>Kong's datastore, in which the configuration is stored
to allow you to horizontally scale Kong nodes.
<a href="#apache-cassandra">Apache Cassandra</a> and <a href="#postgresql">PostgreSQL</a> can be
used to fulfill this role.</li>
</ul>

<p>Kong needs to have both these components set up and operational. A typical Kong
installation can be summed up with the following picture:</p>

<p><img src="/assets/images/docs/kong-detailed.png" alt=""></p>

<h3 id="kong-server">Kong server</h3>

<p>The Kong Server, built on top of <strong>NGINX</strong>, is the server that will actually
process the API requests and execute the configured plugins to provide
additional functionalities to the underlying APIs before proxying the request
upstream.</p>

<p>Kong listens on several ports that must allow external traffic and are by
default:</p>

<ul>
<li><code>8000</code> for proxying. This is where Kong listens for HTTP traffic. See <a href="/docs/latest/configuration/#proxy_listen">proxy_listen</a>.</li>
<li><code>8443</code> for proxying HTTPS traffic. See <a href="/docs/latest/configuration/#proxy_listen_ssl">proxy_listen_ssl</a>.</li>
</ul>

<p>Additionally, those ports are used internally and should be firewalled in
production usage:</p>

<ul>
<li><code>8001</code> provides Kong's <strong>Admin API</strong> that you can use to operate Kong. See
<a href="/docs/latest/configuration/#admin_api_listen">admin_api_listen</a>.</li>
<li><code>7946</code> which Kong uses for inter-nodes communication with other Kong nodes. Both UDP and TCP traffic
must be allowed. See <a href="/docs/latest/configuration/#cluster_listen">cluster_listen</a>.</li>
<li><code>7373</code> used by Kong to communicate with the local clustering agent.
See <a href="/docs/latest/configuration/#cluster_listen_rpc">cluster_listen_rpc</a>.</li>
</ul>

<p>You can use the <strong>Admin API</strong> to configure Kong, create new users, enable or
disable plugins, and a handful of other operations. Since you will be using
this RESTful API to operate Kong, it is also extremely easy to integrate Kong
with existing systems.</p>

<h3 id="kong-datastore">Kong datastore</h3>

<p>Kong uses an external datastore to store its configuration such as registered
APIs, Consumers and Plugins. Plugins themselves can store every bit of
information they need to be persisted, for example rate-limiting data or
Consumer credentials.</p>

<p><strong>Kong maintains a cache</strong> of this data so that there is no need for a database
roundtrip while proxying requests, which would critically impact performance.
This cache is invalidated by the inter-node communication when calls to the
Admin API are made. As such, it is discouraged to manipulate Kong's datastore
directly, since your nodes cache won't be properly invalidated.</p>

<p>This architecture allows Kong to scale horizontally by simply adding new nodes
that will connect to the same datastore and maintain their own cache.</p>

<h2 id="which-datastores-are-supported">Which datastores are supported?</h2>

<h3 id="apache-cassandra">Apache Cassandra</h3>

<p>Apache Cassandra (<a href="http://cassandra.apache.org/">http://cassandra.apache.org/</a>)
is a popular, solid and reliable datastore used at major companies like Netflix
and Facebook. It excels in securely storing data in both single-datacenter or
multi-datacenter setups with a good performance and a fail-tolerant
architecture.</p>

<p>Kong can use Cassandra as its primary datastore if you are aiming at a
distributed, high-availability Kong setup. The two main reasons why one would
chose Cassandra as Kong's datastore are:
- An ease to create a distributed setup (ideal for multi-region).
- Ease to scale. Since Kong maintains its own cache, only plugins such as
  Rate-Limiting or Response-Rate-Limiting will require a highly responsive
  datastore. Cassandra is a good fit for such setups.</p>

<p>We recommend putting Cassandra on performant machines with a generous amount of
CPU and Memory, like AWS <code>m4.xlarge</code> instances. If you are aiming at Cassandra
for your production infrastructure, make sure to go through a few important
reads:</p>

<ul>
<li><a href="https://docs.datastax.com/en/cassandra/2.0/cassandra/architecture/architectureDataDistributeReplication_c.html">Data Replication</a>
and <a href="http://www.ecyrd.com/cassandracalculator/">this neat Replication Calculator</a>.</li>
<li><a href="http://docs.datastax.com/en/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html">Reading/Writing data consistency</a></li>
<li><a href="https://docs.datastax.com/en/cassandra/2.0/cassandra/install/installRecommendSettings.html">Recommended production settings</a></li>
</ul>

<div class="alert alert-warning">
  <strong>Note:</strong> If you don't want to
  manage/scale your own Cassandra cluster, we suggest using <a href="https://www.instaclustr.com/products/kong/?utm_source=partnership&amp;utm_medium=link&amp;utm_campaign=mashape" target="_blank">Instaclustr</a> for Cassandra in
  the cloud.



</div>

<h3 id="postgresql">PostgreSQL</h3>

<p><a href="http://www.postgresql.org/">PostgreSQL</a> is one of the most established SQL
databases out there, meaning your team might already use it or have experience
with it.</p>

<p>It is a good candidate if the setup you are aiming at is not distributed, or if
you feel comfortable scaling PostgreSQL yourself. It is also worth pointing out
that many cloud providers can host and scale PostgreSQL instances for you, most
notably <a href="https://aws.amazon.com/rds/">Amazon RDS</a>.</p>

<p>Again, since Kong maintain its own cache, performance should be of concern for
most use-cases, making PostgreSQL a good candidate for your Kong cluster too.</p>

<hr>

<h2 id="how-does-it-scale">How does it scale?</h2>

<p>When it comes to scaling Kong, you need to keep in mind that you will mostly
need to scale Kong's server and eventually ensure its datastore is not a single
point of failure in your infrastructure.</p>

<h3 id="kong-server">Kong server</h3>

<p>Scaling the Kong Server up or down is fairly easy. Each server is stateless
meaning you can add or remove as many nodes under the load balancer as you want
as long as they point to the same datastore.</p>

<p>Be aware that terminating a node might interrupt any ongoing HTTP requests on
that server, so you want to make sure that before terminating the node, all
HTTP requests have been processed.</p>

<h3 id="kong-datastore">Kong datastore</h3>

<p>Scaling the datastore should not be your main concern, mostly because as
mentioned before, Kong maintains its own cache, so expect your datastore's
traffic to be relatively quiet.</p>

<p>However, keep it mind that it is always a good practise to ensure your
infrastructure does not contain single points of failure (SPOF). As such,
closely monitor your datastore, and ensure replication of your datastore.</p>

<p>If you use Cassandra, one of its main advantages is its easy-to-use replication
capabilities due to its distributed nature. Make sure to read the documentation
pointed out by the <a href="#apache-cassandra">Cassandra section</a> of this FAQ.</p>

<hr>

<h2 id="what-are-plugins">What are plugins?</h2>

<p>Plugins are one of the most important features of Kong. All the functionalities
provided by Kong actually are <strong>plugins</strong>. Authentication, rate-limiting,
transformation, logging etc, are all implemented independantly. Plugins can be
installed and configured via the Admin API running alongside Kong.</p>

<p>Almost all plugins can be customized not only to target a specific proxied
service, but also to target <strong>specific <a href="/docs/latest/admin-api/#consumer-object">Consumers</a></strong>.</p>

<p>From a technical perspective, a plugin is <a href="http://www.lua.org/">Lua</a> code
that's being executed during the life-cycle of a proxied request and response.
Through plugins, Kong can be extended to fit any custom need or integration
challenge. For example, if you need to integrate the you API's user
authentication with a third-party enterprise security system, that would be
implemented in a dedicated plugin that is run on every request targetting that
given API.</p>

<p>Feel free to explore the <a href="/plugins">Plugins Gallery</a> and the <a href="/docs/latest/plugin-development">Plugin
development guide</a>. Learn how
to <a href="/docs/latest/getting-started/enabling-plugins">enable plugins</a> with the
<a href="/docs/latest/admin-api/#plugin-configuration-object">plugin configuration
API</a>.</p>

<hr>

<h2 id="how-many-microservices-apis-can-i-add-on-kong">How many microservices/APIs can I add on Kong?</h2>

<p>You can add as many microservices or APIs as you like, and use Kong to process
all of them. Kong currently supports RESTful services that run over HTTP or
HTTPs. Learn how to <a href="/docs/latest/getting-started/adding-your-api/">add a new
service</a> on Kong.</p>

<p>You can scale Kong horizontally if you are processing lots of requests, just by
adding more Kong servers to your cluster.</p>

<hr>

<h2 id="how-can-i-add-authentication-to-a-microservice-api">How can I add authentication to a microservice/API?</h2>

<p>To add an authentication layer on top of a service you can choose between the
authentication plugins currently available in the <a href="/plugins">Plugins Gallery</a>,
like the <a href="/plugins/basic-authentication/">Basic Authentication</a>, <a href="/plugins/key-authentication/">Key
Authentication</a> and <a href="/plugins/oauth2-authentication/">OAuth
2.0</a> plugins.</p>

<hr>

<h2 id="where-can-i-get-help">Where can I get help?</h2>

<p>You can read the <a href="/docs">official documentation</a> or ask any question to the
community and the core mantainers on our <a href="https://gitter.im/Mashape/kong">official chat on
Gitter</a>. We are also on Freenode at
<a href="http://webchat.freenode.net/?channels=kong">#kong</a>.</p>

<p>You can also have a face-to-face talk with us at one of our
<a href="http://www.meetup.com/The-Mashape-API-Developer-Community">meetups</a>.</p>

<p><hr></p>

<p>Were you looking for a question that you did't find? <a href="https://github.com/Mashape/kong">Open an issue!</a></p>
</div>
      </div>
    </div>
  </div>
</div>


    <footer class="footer">
  
    <section class="section subscribe-section" id="newsletter">
  <div class="container">
    <header class="section-header">
      <h4>Keep up with the latest features</h4>
    </header>


    <form action="/" class="subscribe-form">
      <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
      </div>

      <div class="alert alert-success" role="alert">Thank You!</div>

      <div class="input-group">
        <input type="email" name="email" placeholder="youre@awesome.com" required/>
        <button class="button button-primary" type="submit">订阅</button>
      </div>
    </form>
  </div>
</section>

  

  <div class="footer-bar">
    <div class="container">
      <ul class="footer-social">
        <li><!-- verse link.web with link.share in the header -->
          
          <div class="fb-share-button" data-href="https://getkong.org" data-layout="button"></div>
        </li>
        <li>
          <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://getkong.org" data-text="KONG - the open-source management layer for APIs and Microservices" data-hashtags="opensource,API,management">Tweet</a>
        </li>
        <li>
          <a class="github-button" href="https://github.com/Mashape/kong" data-icon="octicon-star" data-count-href="/mashape/kong/stargazers" data-count-api="/repos/mashape/kong#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star mashape/kong on GitHub">Star</a>
        </li>
      </ul>
    <span> <a href="https://mashape.com"> <img src="/assets/images/branding-footer.svg" alt="Mashape" width="22" height="26"/> © <strong>2016 Mashape Inc</strong> </a> </span> <span class="footer-separator"></span> <span class="footer-nav"> <a href="/license">许可证</a> <a href="/terms">条款</a> <a href="/privacy">隐私</a> <a href="https://www.mashape.com/enterprise/">企业版</a> <a href="http://blog.mashape.com/category/open-source/" target="_blank">新闻</a> </span>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/app.js?v=1474440736"></script>

    <div id="fb-root"></div>

    <a id="support-bubble" href="https://gitter.im/Mashape/kong" class="js-gitter-toggle-chat-button" data-gitter-toggle-chat-state="true"></a>

    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>
    <script id="twitter-wjs" type="text/javascript" src="https://platform.twitter.com/widgets.js" async defer></script>
    <script id="facebook-jssdk" type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506" async defer></script>

    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=125292,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=true,
      // DO NOT EDIT BELOW THIS LINE
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
        analytics.load("WDj0nSS7hpyxwL3evgbOzK755s0NUye6");
        analytics.page()
      }}();
    </script>

    <script type="text/javascript" src="//mashape.github.io/notification-bar/embed.js" async defer></script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
