<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Proxy Reference - v0.5.x | Kong - Open-Source API Management and Microservice Management</title><!-- use share link for facebook -->
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="author" content="Mashape"/>
  <meta property="og:title" content="开源 API 管理平台和微服务管理平台"/>
  <meta property="og:site_name" content="Kong"/>
  
  <meta property="og:url" content="http://getkong.org"/>
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more."/>
  <meta property="og:type" content="website"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:image" content="https://getkong.org/assets/images/share.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@mashape"/>
  <meta name="twitter:creator" content="@mashape"/>
  <meta name="twitter:url" content="https://getkong.org"/>
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="twitter:image" content="https://getkong.org/assets/images/share.png">
  <meta property="fb:admins" content="227304446"/>
  <meta property="fb:admins" content="576641408"/>
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"/>
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "Mashape",
      "url": "https://getkong.org",
      "logo": "https://getkong.org/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/Mashape",
        "https://twitter.com/mashape",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"/>
  <link rel="stylesheet" href="//cloud.typography.com/7506032/804186/css/fonts.css"/>
  <link rel="stylesheet" href="/assets/styles.css?v=1474440736"/>
</head>


  <body id="documentation" >
    <header class="site-header">
  <div class="enterprise">
    <div class="container">
      <nav class="enterprise-sites one-half column">
        <ul>
          <li class="active"><a href="http://getkong.org">Kong</a></li>
          <li><a href="http://gelato.io">Gelato</a></li>
          <li><a href="http://getgalileo.io">Galileo</a></li>
          <li><a href="http://www.mashape.com/enterprise/">企业版</a></li>
        </ul>
      </nav>
      <nav class="enterprise-contact one-half column">
        <ul>
          <li><a href="https://www.mashape.com/enterprise/#demo-form">Request Demo</a></li>
          <li><a href="tel:+18664021473">Sales: +1 (866) 402-1473</a></li>
        </ul>
      </nav>
    </div>
  </div><!-- .enterprise -->
  <div class="navbar">
    <div class="container">
      <a href="/" class="navbar-brand"><img src="/assets/images/branding.svg" alt="Kong" width="99" height="32"></a>
      <iframe class="header-star" src="https://ghbtns.com/github-btn.html?user=Mashape&amp;repo=kong&amp;type=star"frameborder="0" scrolling="0" width="55" height="20"></iframe>
      <button data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar" class="navbar-toggle">
        <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
      </button>
      <nav id="navbar" class="navbar-nav">
        <ul>
          <li><a href="/about/" >关于</a></li>
          <li><a href="/docs/"  class="active">文档</a></li>
          <li><a href="/plugins/" >插件</a></li>
          <li><a href="/community/" >社区版</a></li>
          <li><a href="https://www.mashape.com/enterprise/">企业版</a></li>
          <li><a href="https://github.com/Mashape/kong" target="_blank">GitHub</a></li>
          <li>
            <a href="/install/" class="button button-dark" data-analytics='{"event": "Clicked download", "type": "button", "location": "header"}'>安装</a>
          </li>
        </ul>
      </nav>
    </div>
  </div><!-- .navbar -->
</header>


    <header class="page-header">
  <div class="container">
    <div class="page-header-icon">
      <img src="/assets/images/icons/icn-documentation.svg" alt="Documentation" />
    </div>
    <div class="page-header-title">
      <h1>Documentation (0.5.x)</h1>
      <p>Learn how Kong empowers your APIs</p>
    </div>

    
      <div class="dropdown page-header-right">
        <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          
          Version 0.5.x
          
          
          
          <span class="caret"></span>
        </button>

        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
          
            
              <li>
                <a href="/docs/0.2.0-2">
                  
                  0.2.0-2
                  
                
                  
                </a>
              </li>
            
          
            
              <li>
                <a href="/docs/0.2.x">
                  
                  0.2.x
                  
                
                  
                </a>
              </li>
            
          
            
              <li>
                <a href="/docs/0.3.x">
                  
                  0.3.x
                  
                
                  
                </a>
              </li>
            
          
            
              <li>
                <a href="/docs/0.4.x">
                  
                  0.4.x
                  
                
                  
                </a>
              </li>
            
          
            
          
            
              <li>
                <a href="/docs/0.6.x">
                  
                  0.6.x
                  
                
                  
                </a>
              </li>
            
          
            
              <li>
                <a href="/docs/0.7.x">
                  
                  0.7.x
                  
                
                  
                </a>
              </li>
            
          
            
              <li>
                <a href="/docs/0.8.x">
                  
                  0.8.x
                  
                
                  
                </a>
              </li>
            
          
            
              <li>
                <a href="/docs/0.9.x">
                  
                  0.9.x
                  (latest)
                
                </a>
              </li>
            
          
        </ul>
      </div>
    
  </div>
</header>

<div class="container">
  <aside class="page-navigation">
    

    
    <nav>
      
      <h5>Getting Started</h5>
      
      <ul>
        
        
        <li>
          <a href="/docs/0.5.x/getting-started/introduction" >Introduction</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/getting-started/quickstart" >Five-minute quickstart</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/getting-started/adding-your-api" >Adding your API</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/getting-started/enabling-plugins" >Enabling Plugins</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/getting-started/adding-consumers" >Adding Consumers</a>
          
        </li>
        
      </ul>
    </nav>
    
    <nav>
      
      <h5>Guides &amp; References</h5>
      
      <ul>
        
        
        <li>
          <a href="/docs/0.5.x/configuration" >Configuration reference</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/cli" >CLI reference</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/proxy" class="active">Proxy reference</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/lua-reference/" >Public Lua API reference</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/plugin-development" >Plugin Development Guide</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development" >Introduction</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/file-structure" >File structure</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/custom-logic" >Implement custom logic</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/plugin-configuration" >Plugin configuration</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/access-the-datastore" >Access the datastore</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/custom-entities" >Store custom entities</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/admin-api" >Extending the Admin API</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/tests" >Writing tests</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/plugin-development/distribution" >Distribute your plugin</a>
            </li>
            
          </ul>
          
        </li>
        
      </ul>
    </nav>
    
    <nav>
      
      <a href="/docs/0.5.x/admin-api/"><h5>Admin API</h5></a>
      
      <ul>
        
        
        <li>
          <a href="/docs/0.5.x/admin-api/#supported-content-types" >Supported Content Types</a>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/admin-api/#information-routes" >Information routes</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-node-information" >Retrieve node information</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-node-status" >Retrieve node status</a>
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/admin-api/#api-object" >API Object routes</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#add-api" >Add API</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-api" >Retrieve API</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#list-apis" >List APIs</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#update-api" >Update API</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#update-or-create-api" >Update or create API</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#delete-api" >Delete API</a>
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/admin-api/#consumer-object" >Consumer Object routes</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#create-consumer" >Create Consumer</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-consumer" >Retrieve Consumer</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#list-consumers" >List Consumers</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#update-consumer" >Update Consumer</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#update-or-create-consumer" >Update or create Consumer</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#delete-consumer" >Delete Consumer</a>
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/0.5.x/admin-api/#plugin-object" >Plugin Object routes</a>
          
          <ul>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#add-plugin" >Add Plugin</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-plugin" >Retrieve Plugin</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#list-all-plugins" >List all Plugins</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#list-plugins-per-api" >List Plugins per API</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#update-plugin" >Update Plugin</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#update-or-add-plugin" >Update or Add Plugin</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#delete-plugin" >Delete Plugin</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-enabled-plugins" >Retrieve Enabled Plugins</a>
            </li>
            
            
            <li>
              <a href="/docs/0.5.x/admin-api/#retrieve-plugin-schema" >Retrieve Plugin Schema</a>
            </li>
            
          </ul>
          
        </li>
        
      </ul>
    </nav>
    
  </aside>

  <div class="page-content-container">
    <div class="page-content">
      <div class="content">
        
        <div class="alert alert-warning">
          <strong>Careful!</strong> You are browsing documentation for an outdated version of Kong. Go <a href="/docs/latest">here</a> to browse the documentation for the latest version.
        
        </div>
        

      <h1 id="proxy-reference">Proxy Reference</h1>

<p>As you might already know, Kong uses two ports to communicate. By default they are:</p>

<p><code>:8001</code> - The one on which the <a href="/docs/0.5.x/admin-api">Admin API</a> listens.</p>

<p><code>:8000</code> - Where Kong listens for incoming requests to proxy to your upstream services. This is the port that interests us; here is a typical request workflow on this port:</p>

<p><br /></p>

<p><img src="/assets/images/docs/kong-simple.png" alt=""></p>

<p><br /></p>

<p>This guide will cover all proxying capabilities of Kong by explaining in detail how the proxying (<code>8000</code>) port works under the hood.</p>

<h2 id="summary">Summary</h2>

<ul>
<li>1. <a href="#1.-how-does-kong-route-a-request-to-an-api">How does Kong route a request to an API</a></li>
<li>2. <a href="#2.-reminder-how-to-add-an-api-to-kong">Reminder: how to add an API to Kong</a></li>
<li>3. <a href="#3.-proxy-an-api-by-its-dns-value">Proxy an API by its DNS value</a>

<ul>
<li><a href="#using-the-quot-host-quot-header">Using the "Host" header</a></li>
<li><a href="#using-the-quot-x-host-override-quot-header">Using the "X-Host-Override" header</a></li>
<li><a href="#using-a-wildcard-dns">Using a wildcard DNS</a></li>
</ul></li>
<li>4. <a href="#4.-proxy-an-api-by-its-request_path-value">Proxy an API by its request_path value</a>

<ul>
<li><a href="#using-the-quot-strip_request_path-quot-property">Using the "strip_request_path" property</a></li>
</ul></li>
<li>5. <a href="#5.-plugins-execution">Plugins execution</a></li>
</ul>

<hr>

<h2 id="1-how-does-kong-route-a-request-to-an-api">1. How does Kong route a request to an API</h2>

<p>When receiving a request, Kong will inspect it and try to route it to the correct API. In order to do so, it supports different routing mechanisms depending on your needs. A request can be routed by:</p>

<ul>
<li>A <strong>DNS</strong> value contained in the <strong>Host</strong> header of the request.</li>
<li>The path (<strong>URI</strong>) of the request.</li>
</ul>

<div class="alert alert-warning">
  <strong>Note:</strong> Bear in mind that those two methods do not combine themselves together. It is currently <b>not</b> possible to define rules such as "with this hostname" <i>and</i> "with this URI prefix". Kong will first try to route a request by DNS and if unsuccessful, will try by URI.

</div>

<div class="alert alert-warning">
  <strong>Note:</strong> For performance reasons, Kong keeps a cache of the APIs from your Cassandra cluster in memory for up to 60 seconds. As cache invalidation has not been implemented yet, Kong might take up to <strong>60 seconds</strong> to notice a new API and proxy incoming requests to it.

</div>

<hr>

<h2 id="2-reminder-how-to-add-an-api-to-kong">2. Reminder: how to add an API to Kong</h2>

<p>Before going any further, let's take a few moments to make sure you know how to add an API to Kong. This will also help clarify the difference between the two ports.</p>

<p>As explained in the <a href="/docs/0.5.x/getting-started/adding-your-api">Adding your API</a> quickstart guide, Kong is configured via its internal <a href="/docs/0.5.x/admin-api">Admin API</a> running by default on port <code>8001</code>. Adding an API to Kong is as easy as an HTTP request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl -i -X POST <span class="se">\</span>
  --url http://localhost:8001/apis/ <span class="se">\</span>
  -d <span class="s1">'name=mockbin'</span> <span class="se">\</span>
  -d <span class="s1">'upstream_url=http://mockbin.com/'</span> <span class="se">\</span>
  -d <span class="s1">'request_host=mockbin.com'</span> <span class="se">\</span>
  -d <span class="s1">'request_path=/status'</span>
</code></pre></div>
<p>This request tells Kong to add an API named "<strong>mockbin</strong>", with its upstream resource being located at "<strong><a href="http://mockbin.com">http://mockbin.com</a></strong>". The <code>request_host</code> and <code>request_path</code> properties are the ones used by Kong to route a request to that API. Both properties are not required but at least one must be specified.</p>

<p>Once this request is processed by Kong, the API is stored in your Cassandra cluster and a request to the <strong>Proxy port</strong> will trigger a query to Cassandra and put your API in Kong's proxying cache.</p>

<hr>

<h2 id="3-proxy-an-api-by-its-request_host-value">3. Proxy an API by its request_host value</h2>

<h4 id="using-the-quot-host-quot-header">Using the "<strong>Host</strong>" header</h4>

<p>Now that we added an API to Kong (via the Admin API), Kong can proxy it via the <code>8000</code> port. One way to do so is to specify the API's <code>request_host</code> value in the <code>Host</code> header of your request:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl -i -X GET <span class="se">\</span>
  --url http://localhost:8000/ <span class="se">\</span>
  --header <span class="s1">'Host: mockbin.com'</span>
</code></pre></div>
<p>By doing so, Kong recognizes the <code>Host</code> value as being the <code>request_host</code> of the "mockbin" API. The request will be routed to the upstream API and Kong will execute any configured <a href="/plugins/">plugin</a> for that API.</p>

<div class="alert alert-warning">
  <strong>Going to production:</strong> If you're planning to go into production with your setup, you'll most likely not want your consumers to manually set the "<strong>Host</strong>" header on each request. You can let Kong and DNS take care of it by simply setting an A or CNAME record on your domain pointing to your Kong installation. Hence, any request made to `example.org` will already contain a `Host: example.org` header.

</div>

<h4 id="using-the-quot-x-host-override-quot-header">Using the "<strong>X-Host-Override</strong>" header</h4>

<p>When performing a request from a browser, you might not be able to set the <code>Host</code> header. Thus, Kong also checks a request for a header named <code>X-Host-Override</code> and treats it exactly like the <code>Host</code> header:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl -i -X GET <span class="se">\</span>
  --url http://localhost:8000/ <span class="se">\</span>
  --header <span class="s1">'X-Host-Override: mockbin.com'</span>
</code></pre></div>
<p>This request will be proxied just as well by Kong.</p>

<h4 id="using-a-wildcard-dns">Using a wildcard DNS</h4>

<p>Sometimes you might want to route all requests matching a wildcard DNS to your upstream services. A "<strong>request_host</strong>" wildcard name may contain an asterisk only on the name’s start or end, and only on a dot border.</p>

<p>A "<strong>request_host</strong>" of form <code>*.example.org</code> will route requests with "<strong>Host</strong>" values such as <code>a.example.org</code> or <code>x.y.example.org</code>.</p>

<p>A "<strong>request_host</strong>" of form <code>example.*</code> will route requests with "<strong>Host</strong>" values such as <code>example.com</code> or <code>example.org</code>.</p>

<hr>

<h2 id="4-proxy-an-api-by-its-request_path-value">4. Proxy an API by its request_path value</h2>

<p>If you'd rather configure your APIs so that Kong routes incoming requests according to the request's URI, Kong can also perform this function. This allows your consumers to seamlessly consume APIs sparing the headache of setting DNS records for your domains.</p>

<p>Because the API we previously configured has a <code>request_path</code> property, the following request will <strong>also</strong> be proxied to the upstream "mockbin" API:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl -i -X GET <span class="se">\</span>
  --url http://localhost:8000/status/200
</code></pre></div>
<p>You will notice this command makes a request to <code>KONG_URL:PROXY_PORT/status/200</code>. Since the configured <code>upstream_url</code> is <code>http://mockbin.com/</code>, the request will hit the upstream service at <code>http://mockbin.com/status/200</code>.</p>

<h4 id="using-the-quot-strip_request_path-quot-property">Using the "<strong>strip_request_path</strong>" property</h4>

<p>By enabling the <code>strip_request_path</code> property on an API, the requests will be proxied without the <code>request_path</code> property being included in the upstream request. Let's enable this option by making a request to the Admin API:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl -i -X PATCH <span class="se">\</span>
  --url http://localhost:8001/apis/mockbin <span class="se">\</span>
  -d <span class="s1">'strip_request_path=true'</span> <span class="se">\</span>
  -d <span class="s1">'request_path=/mockbin'</span>
</code></pre></div>
<p>Now that we slightly updated our API (you might have to wait a few seconds for Kong's proxying cache to be updated), Kong will proxy requests made to <code>KONG_URL:PROXY_PORT/mockbin</code> but will not include the <code>/mockbin</code> part when performing the upstream request.</p>

<p>Here is a table documenting the behaviour of the path routing depending on your API's configuration:</p>

<table><thead>
<tr>
<th><code>request_path</code></th>
<th><code>strip_request_path</code></th>
<th>incoming request</th>
<th>upstream request</th>
</tr>
</thead><tbody>
<tr>
<td><code>/mockbin</code></td>
<td><strong>false</strong></td>
<td><code>/some_path</code></td>
<td><strong>not proxied</strong></td>
</tr>
<tr>
<td><code>/mockbin</code></td>
<td><strong>false</strong></td>
<td><code>/mockbin</code></td>
<td><code>/mockbin</code></td>
</tr>
<tr>
<td><code>/mockbin</code></td>
<td><strong>false</strong></td>
<td><code>/mockbin/some_path</code></td>
<td><code>/mockbin/some_path</code></td>
</tr>
<tr>
<td><code>/mockbin</code></td>
<td><strong>true</strong></td>
<td><code>/some_path</code></td>
<td><strong>not proxied</strong></td>
</tr>
<tr>
<td><code>/mockbin</code></td>
<td><strong>true</strong></td>
<td><code>/mockbin</code></td>
<td><code>/</code></td>
</tr>
<tr>
<td><code>/mockbin</code></td>
<td><strong>true</strong></td>
<td><code>/mockbin/some_path</code></td>
<td><code>/some_path</code></td>
</tr>
</tbody></table>

<div class="alert alert-warning">
  <strong>Note:</strong> The use of <code>strip_request_path</code> is irrelevant if the request is being routed using the request_host method (which has priority over the request_path routing). The request's URI will be left untouched.

</div>

<hr>

<h2 id="5-plugins-execution">5. Plugins execution</h2>

<p>Once Kong has recognized which API an incoming request should be proxied to, it will look into your Cassandra cluster for any record of a <a href="/docs/0.5.x/admin-api#plugin-configuration-object">Plugin Configuration</a> for that particular API. This is done according to the following steps:</p>

<ul>
<li>1. Kong recognized the API (according to one of the previously explained methods)</li>
<li>2. It looks into the datastore for Plugin Configurations for that API</li>
<li>3. Some Plugin Configurations were found, for example:



<ul>
<li>a. A key authentication Plugin Configuration</li>
<li>b. A rate-limiting Plugin Configuration (that also has a <code>consumer_id</code> property)</li>
</ul></li>
<li>4. Kong executes the highest priority plugin (key authentication in this case)



<ul>
<li>a. User is now authenticated</li>
</ul></li>
<li>5. Kong tries to execute the rate-limiting plugin



<ul>
<li>a. If the user is the one in the <code>consumer_id</code>, rate-limiting is applied</li>
<li>b. If the user is not the one configured, rate-limiting is not applied</li>
</ul></li>
<li>6. Request is proxied</li>
</ul>

<p><strong>Note</strong>: The proxying of a request might happen before or after plugins execution, since each plugin can hook itself anywhere in the lifecycle of a request. In this case (authentication + rate-limiting) it is of course mandatory those plugins be executed <strong>before</strong> proxying happens.</p>

      </div>
    </div>
  </div>
</div>


    <footer class="footer">
  
    <section class="section subscribe-section" id="newsletter">
  <div class="container">
    <header class="section-header">
      <h4>Keep up with the latest features</h4>
    </header>


    <form action="/" class="subscribe-form">
      <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
      </div>

      <div class="alert alert-success" role="alert">Thank You!</div>

      <div class="input-group">
        <input type="email" name="email" placeholder="youre@awesome.com" required/>
        <button class="button button-primary" type="submit">Subscribe</button>
      </div>
    </form>
  </div>
</section>

  

  <div class="footer-bar">
    <div class="container">
      <ul class="footer-social">
        <li><!-- verse link.web with link.share in the header -->
          
          <div class="fb-share-button" data-href="https://getkong.org" data-layout="button"></div>
        </li>
        <li>
          <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://getkong.org" data-text="KONG - the open-source management layer for APIs and Microservices" data-hashtags="opensource,API,management">Tweet</a>
        </li>
        <li>
          <a class="github-button" href="https://github.com/Mashape/kong" data-icon="octicon-star" data-count-href="/mashape/kong/stargazers" data-count-api="/repos/mashape/kong#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star mashape/kong on GitHub">Star</a>
        </li>
      </ul>
    <span> <a href="https://mashape.com"> <img src="/assets/images/branding-footer.svg" alt="Mashape" width="22" height="26"/> © <strong>2016 Mashape Inc</strong> </a> </span> <span class="footer-separator"></span> <span class="footer-nav"> <a href="/license">许可证</a> <a href="/terms">条款</a> <a href="/privacy">隐私</a> <a href="https://www.mashape.com/enterprise/">企业版</a> <a href="http://blog.mashape.com/category/open-source/" target="_blank">新闻</a> </span>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/app.js?v=1474440736"></script>

    <div id="fb-root"></div>

    <a id="support-bubble" href="https://gitter.im/Mashape/kong" class="js-gitter-toggle-chat-button" data-gitter-toggle-chat-state="true"></a>

    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>
    <script id="twitter-wjs" type="text/javascript" src="https://platform.twitter.com/widgets.js" async defer></script>
    <script id="facebook-jssdk" type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506" async defer></script>

    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=125292,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=true,
      // DO NOT EDIT BELOW THIS LINE
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
        analytics.load("WDj0nSS7hpyxwL3evgbOzK755s0NUye6");
        analytics.page()
      }}();
    </script>

    <script type="text/javascript" src="//mashape.github.io/notification-bar/embed.js" async defer></script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
